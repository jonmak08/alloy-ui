AUI.add("aui-paginator",function(Y){var R=Y.Lang,f=R.isArray,ao=R.isBoolean,al=R.isFunction,K=R.isNumber,E=R.isObject,au=R.isString,y=R.toInt,z="alwaysVisible",m="boundingBox",B="circular",c="container",G="containers",T="content",ag="current",Q=".",v="first",Z="firstPageLink",aA="firstPageLinkLabel",g="last",I="lastPageLink",ax="lastPageLinkLabel",U="link",ac="maxPageLinks",l="next",ak="nextPageLink",X="nextPageLinkLabel",aq="option",n="page",u="pageContainerTemplate",H="pageLinkContent",F="pageLinkTemplate",e="pageReportEl",s="pageReportLabelTemplate",ab="paginator",an="per",ap="prev",i="prevPageLink",b="prevPageLinkLabel",S="report",j="rows",aa="rowsPerPage",aw="rowsPerPageEl",r="rowsPerPageOptions",J="select",ar="selected",p=" ",O="state",aj="template",W="total",M="totalEl",P="totalLabel",V="totalPages",av=function(){return Array.prototype.slice.call(arguments).join(p);},ay=function(A){return(A instanceof Y.NodeList);},D=Y.getClassName,ai=Y.UA.ie,w=D(ab),q=D(ab,c),ad=D(ab,T),x=D(ab,ag,n),az=D(ab,v,U),k=D(ab,g,U),at=D(ab,U),d=D(ab,l,U),a=D(ab,n,c),af=D(ab,n,U),t=D(ab,ag,n,S),ae=D(ab,ap,U),o=D(ab,j,an,n),h=D(ab,W),am={defaultOutput:"{FirstPageLink} {PrevPageLink} {PageLinks} {NextPageLink} {LastPageLink} {CurrentPageReport} {Total} {RowsPerPageSelect}",firstLink:'<a href="#" class="'+av(at,az)+'"></a>',lastLink:'<a href="#" class="'+av(at,k)+'"></a>',nextLink:'<a href="#" class="'+av(at,d)+'"></a>',pageContainer:"<span></span>",pageLink:'<a href="#"></a>',pageReport:'<span class="'+av(t)+'"></span>',pageReportLabel:"({page} of {totalPages})",prevLink:'<a href="#" class="'+av(at,ae)+'"></a>',rowsPerPage:'<select class="'+o+'"></select>',total:'<span class="'+av(h)+'"></span>',totalLabel:"(Total {total})"},ah="&gt;",N="&lt;";var C=Y.Component.create({NAME:ab,TPL:am,ATTRS:{alwaysVisible:{validator:ao,value:true},circular:{validator:ao,value:false},containers:{setter:function(L){var A=this;if(ay(L)){return L;}else{if(au(L)){return Y.all(L);}}return new Y.NodeList([L]);},writeOnce:true},firstPageLink:{setter:Y.one,valueFn:function(){var A=this;var aB=A.get(aA);var L=A.configTpl;var aD=L.firstLink;var aC=Y.Node.create(aD);return aC.html(aB);}},firstPageLinkLabel:{validator:au,value:v},lastPageLink:{setter:Y.one,valueFn:function(){var A=this;var aB=A.get(ax);var L=A.configTpl;var aD=L.lastLink;var aC=Y.Node.create(L.lastLink);return aC.html(aB);}},lastPageLinkLabel:{validator:au,value:g},maxPageLinks:{getter:function(aB){var A=this;var L=A.get(V);return Math.min(L,aB);},validator:K,value:10},nextPageLink:{setter:Y.one,valueFn:function(){var L=this;var aC=L.get(X);var aB=L.configTpl;var A=aB.nextLink;var aD=Y.Node.create(A);return aD.html(aC);}},nextPageLinkLabel:{validator:au,value:av(l,ah)},page:{setter:y,value:1},pageContainerTemplate:{getter:function(L){var A=Y.Node.create(L);return A.addClass(a);},validator:au,valueFn:function(){var A=this;var L=A.configTpl;return L.pageContainer;}},pageLinkContent:{validator:al,value:function(aB,A,L){aB.html(A);}},pageLinkTemplate:{getter:function(aB){var L=Y.Node.create(aB);var A=av(at,af);return L.addClass(A);},validator:au,valueFn:function(){var A=this;var L=A.configTpl;return L.pageLink;}},pageReportEl:{setter:Y.one,valueFn:function(){var A=this;var aB=A.get(s);var L=A.configTpl;var aD=L.pageReport;var aC=Y.Node.create(aD);return aC.html(aB);}},pageReportLabelTemplate:{getter:function(){var A=this;var aD=A.get(n);var aC=A.get(V);var L=A.configTpl;var aB=L.pageReportLabel;return R.sub(aB,{page:aD,totalPages:aC});},validator:au},prevPageLink:{setter:Y.one,valueFn:function(){var A=this;var aC=A.get(b);var aB=A.configTpl;var L=aB.prevLink;var aD=Y.Node.create(L);return aD.html(aC);}},prevPageLinkLabel:{validator:au,value:av(N,ap)},rowsPerPage:{setter:y,value:1},rowsPerPageEl:{getter:function(aD){var A=this;var aC=A.get(aa);var L=aD.all(aq);L.removeAttribute(ar);var aB=L.filter("[value="+aC+"]");if(aB){aB.setAttribute(ar,ar);}return aD;},setter:Y.one,valueFn:function(){var A=this;var L=A.configTpl;var aC=L.rowsPerPage;var aB=Y.Node.create(aC);return aB.addClass(o);}},rowsPerPageOptions:{validator:f,value:{}},state:{getter:"_getState",setter:"_setState",validator:E,value:{}},template:{getter:"_getTemplate",writeOnce:true,validator:au,valueFn:function(){var A=this;var L=A.configTpl;return L.defaultOutput;}},total:{setter:"_setTotal",validator:K,value:0},totalEl:{getter:function(){var A=this;var aB=A.get(P);var L=A.configTpl;var aD=L.total;var aC=Y.Node.create(aD);return aC.html(aB);},setter:Y.one},totalLabel:{getter:function(){var A=this;var aB=A.get(W);var L=A.configTpl;var aC=L.totalLabel;return R.sub(aC,{total:aB});},validator:au},totalPages:{readOnly:true,getter:function(aC){var A=this;var aB=A.get(aa);var L=A.get(W);return Math.ceil(L/aB);}}},constructor:function(aB){var A=this;var L=aB.TPL||{};Y.mix(L,C.TPL);A.configTpl=L;C.superclass.constructor.call(A,aB);},prototype:{lastState:null,templatesCache:null,renderUI:function(){var A=this;var L=A.get(G);L.unselectable();A._renderRowsPerPageOptions();A._renderTemplateUI();L.addClass(q);},bindUI:function(){var A=this;A._delegateDOM();A.publish("changeRequest");A.after("stateChange",Y.bind(A._afterSetState,A));A.before("stateChange",Y.bind(A._beforeSetState,A));A.after("maxPageLinksChange",Y.bind(A._renderTemplateUI,A));A.after("rowsPerPageChange",Y.bind(A._renderTemplateUI,A));A.after("totalChange",Y.bind(A._renderTemplateUI,A));},syncUI:function(){var A=this;A.changeRequest();},destructor:function(){var A=this;var L=A.get(G);L.remove(true);},calculateRange:function(aC){var A=this;var aB=A.get(V);var aF=A.get(ac);var aD=Math.ceil(aF/2);var aE=Math.min(Math.max(aC-aD,1),(aB-aF+1));var L=Math.min(aE+aF-1,aB);return{end:L,start:aE};},changeRequest:function(){var A=this;var L=A.get(B);var aD=A.get(O);if(L){var aC=aD.page;var aB=aD.totalPages;if(aD.before&&(aD.before.page==aC)){if(aC<=1){aD.page=aB;}else{if(aC>=aB){aD.page=1;}}A.set(O,aD);}}A.fire("changeRequest",{state:aD});},eachContainer:function(L){var A=this;
var aB=A.get(G);aB.each(function(aC){if(aC){L.apply(A,arguments);}});},hasNextPage:function(){var A=this;var aB=A.get(n);var L=aB+1;return A.hasPage(L);},hasPage:function(aB){var A=this;var L=A.get(V);return((aB>0)&&(aB<=L));},hasPrevPage:function(){var A=this;var aB=A.get(n);var L=aB-1;return A.hasPage(L);},setState:function(L){var A=this;A.set(O,L);},_afterSetState:function(L){var A=this;A._syncPageLinksUI();A._syncPageReportUI();},_beforeSetState:function(L){var A=this;A.lastState=L.prevVal;},_bindDOMEvents:function(){var A=this;var L=A.get(aa);A.eachContainer(function(aC){var aB=aC.one(Q+o);if(aB){aB.val(L);aB.detach("change");aB.on("change",function(aD){try{L=aD.target.val();}catch(aE){}A.set(n,1);A.set(aa,L);A.changeRequest();});}});},_delegateDOM:function(){var A=this;A.eachContainer(function(aB,L){aB.delegate("click",Y.bind(A._onClickFirstLinkEl,A),Q+az);aB.delegate("click",Y.bind(A._onClickLastLinkEl,A),Q+k);aB.delegate("click",Y.bind(A._onClickNextLinkEl,A),Q+d);aB.delegate("click",Y.bind(A._onClickPageLinkEl,A),Q+af);aB.delegate("click",Y.bind(A._onClickPrevLinkEl,A),Q+ae);});},_getState:function(L){var A=this;var aE=A.get(n);var aD=A.get(aa);var aC=A.get(W);var aB=A.get(V);return{before:A.lastState,page:aE,paginator:A,rowsPerPage:aD,total:aC,totalPages:aB};},_getTemplate:function(aD){var A=this;if(!A.templatesCache){var aC=0;var aG=A.get(ac);var aB=A.get(u);while(aC++<aG){var aF=A.get(F);aB.append(aF);}var L=function(aH){return A.get(aH).outerHTML();};var aE=L(aw);if(ai>=9){aE=aE.replace(/selected=""/gi,"");}A.templatesCache=R.sub(aD,{CurrentPageReport:L(e),FirstPageLink:L(Z),LastPageLink:L(I),NextPageLink:L(ak),PageLinks:aB.outerHTML(),PrevPageLink:L(i),RowsPerPageSelect:aE,Total:L(M)});}return A.templatesCache;},_onClickFirstLinkEl:function(L){var A=this;A.set(n,1);A.changeRequest();L.halt();},_onClickLastLinkEl:function(aB){var A=this;var L=A.get(V);A.set(n,L);A.changeRequest();aB.halt();},_onClickNextLinkEl:function(aB){var A=this;var aC=A.get(n);var L=A.hasNextPage()?aC+1:aC;A.set(n,L);A.changeRequest();aB.halt();},_onClickPageLinkEl:function(aB){var A=this;var L=aB.currentTarget.attr(n);A.set(n,L);A.changeRequest();aB.halt();},_onClickPrevLinkEl:function(aB){var A=this;var aC=A.get(n);var L=A.hasPrevPage()?aC-1:aC;A.set(n,L);A.changeRequest();aB.halt();},_renderRowsPerPageOptions:function(){var A=this;var aB=0;var L=A.get(aw);var aC=A.get(r);Y.each(aC,function(aE){var aD=L.getDOM();aD.options[aB++]=new Option(aE,aE);});},_renderTemplateUI:function(){var A=this;var aB=A.get(G);var L=A.get(aj);A.templatesCache=null;aB.html(L);A._syncPageLinksUI();A._syncPageReportUI();A._bindDOMEvents();},_setState:function(L){var A=this;Y.each(L,function(aC,aB){A.set(aB,aC);});return L;},_setTotal:function(aD){var A=this;var L=A.get(z);var aC=A.get(G);var aB=A.get(aa);var aE=(L||(aD!==0&&aD>aB));aC.toggle(aE);return aD;},_syncPageLinksUI:function(){var A=this;var aC=A.get(G);var aB=A.get(n);var L=A.calculateRange(aB);aC.each(function(aF){var aE=0;var aD=L.start;var aI=aF.all(Q+af);if(aI.size()){aI.removeClass(x);while(aD<=L.end){var aH=A.get(H);var aG=aI.item(aE);aH.apply(A,[aG,aD,aE]);aG.setAttribute(n,aD);if(aD==aB){aG.addClass(x);}aE++;aD++;}}});},_syncPageReportUI:function(aB){var A=this;var aC=A.get(G);var L=A.get(s);aC.each(function(aD){var aE=aD.one(Q+t);if(aE){aE.html(L);}});}}});Y.Paginator=C;},"@VERSION@",{skinnable:true,requires:["aui-base"]});