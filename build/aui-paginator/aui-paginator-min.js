AUI.add("aui-paginator",function(q){var k=q.Lang,I=k.isArray,S=k.isBoolean,t=k.isFunction,aj=k.isNumber,Y=k.isObject,l=k.isString,o=k.toInt,j="alwaysVisible",y="circular",c="container",ae="containers",Z="content",ah="current",F=".",u="first",G="firstPageLinkLabel",V="last",ac="lastPageLinkLabel",K="link",H="maxPageLinks",C="next",d="nextPageLinkLabel",r="option",z="page",b="pageLinkContent",ak="paginator",v="per",ai="prev",R="prevPageLinkLabel",J="report",n="rows",ag="rowsPerPage",p="rowsPerPageOptions",N="selected",a=" ",e="state",U="total",f="totalLabel",w="totalPages",M=function(){return Array.prototype.slice.call(arguments).join(a);},E=function(A){return(A instanceof q.NodeList);},i=q.getClassName,D=q.UA.ie,T=i(ak),af=i(ak,c),m=i(ak,Z),W=i(ak,ah,z),ad=i(ak,u,K),x=i(ak,V,K),h=i(ak,K),O=i(ak,C,K),ab=i(ak,z,c),s=i(ak,z,K),aa=i(ak,ah,z,J),B=i(ak,ai,K),g=i(ak,n,v,z),Q=i(ak,U),X={defaultOutput:"{FirstPageLink} {PrevPageLink} {PageLinks} {NextPageLink} {LastPageLink} {CurrentPageReport} {Total} {RowsPerPageSelect}",firstLink:'<a href="#" class="'+M(h,ad)+'"></a>',lastLink:'<a href="#" class="'+M(h,x)+'"></a>',nextLink:'<a href="#" class="'+M(h,O)+'"></a>',pageContainer:"<span></span>",pageLink:'<a href="#"></a>',pageReport:'<span class="'+M(aa)+'"></span>',pageReportLabel:"({page} of {totalPages})",prevLink:'<a href="#" class="'+M(h,B)+'"></a>',rowsPerPage:'<select class="'+g+'"></select>',total:'<span class="'+M(Q)+'"></span>',totalLabel:"(Total {total})"},am="&gt;",P="&lt;";var al=q.Component.create({NAME:ak,TPL:X,ATTRS:{alwaysVisible:{validator:S,value:true},circular:{validator:S,value:false},containers:{setter:function(L){var A=this;if(E(L)){return L;}else{if(l(L)){return q.all(L);}}return new q.NodeList([L]);},writeOnce:true},firstPageLinkLabel:{validator:l,value:u},lastPageLinkLabel:{validator:l,value:V},maxPageLinks:{getter:function(L){var A=this.get(w);return Math.min(A,L);},validator:aj,value:10},nextPageLinkLabel:{validator:l,value:M(C,am)},page:{setter:o,value:1},pageLinkContent:{validator:t,value:function(an,A,L){an.html(A);}},prevPageLinkLabel:{validator:l,value:M(P,ai)},rowsPerPage:{setter:o,value:1},rowsPerPageOptions:{validator:I,value:[]},state:{getter:"_getState",setter:"_setState",validator:Y,value:{}},total:{setter:"_setTotal",validator:aj,value:0},totalLabel:{getter:function(){var A=this;var an=A.get(U);var L=A.configTpl;return k.sub(L.totalLabel,{total:an});},validator:l},totalPages:{readOnly:true,getter:function(ao){var A=this;var an=A.get(ag);var L=A.get(U);return Math.ceil(L/an);}}},constructor:function(an){var A=this;var L=an.TPL||{};q.mix(L,al.TPL);A.configTpl=L;al.superclass.constructor.call(A,an);},prototype:{lastState:null,templatesCache:null,initializer:function(){var A=this;var ap=A.get(z);var ao=A.get(w);var L=A.configTpl;var an=L.pageReportLabel;A._pageReportLabel=k.sub(an,{page:ap,totalPages:ao});},renderUI:function(){var A=this;var L=A.get(ae);L.unselectable();A._renderRowsPerPageOptions();A._renderTemplateUI();L.addClass(af);},bindUI:function(){var A=this;A._delegateDOM();A.publish("changeRequest");A.after("stateChange",q.bind(A._afterSetState,A));A.before("stateChange",q.bind(A._beforeSetState,A));A.after("maxPageLinksChange",q.bind(A._renderTemplateUI,A));A.after("rowsPerPageChange",q.bind(A._renderTemplateUI,A));A.after("totalChange",q.bind(A._renderTemplateUI,A));},syncUI:function(){var A=this;A.changeRequest();},destructor:function(){var A=this;var L=A.get(ae);L.remove(true);},calculateRange:function(ao){var A=this;var ar=A.get(H);var an=A.get(w);var ap=Math.ceil(ar/2);var aq=Math.min(Math.max(ao-ap,1),(an-ar+1));var L=Math.min(aq+ar-1,an);return{end:L,start:aq};},changeRequest:function(){var A=this;var L=A.get(y);var ap=A.get(e);if(L){var ao=ap.page;var an=ap.totalPages;if(ap.before&&(ap.before.page==ao)){if(ao<=1){ap.page=an;}else{if(ao>=an){ap.page=1;}}A.set(e,ap);}}A.fire("changeRequest",{state:ap});},eachContainer:function(L){var A=this;var an=A.get(ae);an.each(function(ao){if(ao){L.apply(A,arguments);}});},hasNextPage:function(){var A=this;var an=A.get(z);var L=an+1;return A.hasPage(L);},hasPage:function(an){var A=this;var L=A.get(w);return((an>0)&&(an<=L));},hasPrevPage:function(){var A=this;var an=A.get(z);var L=an-1;return A.hasPage(L);},setState:function(L){var A=this;A.set(e,L);},_afterSetState:function(L){var A=this;A._syncPageLinksUI();A._syncPageReportUI();},_beforeSetState:function(L){var A=this;A.lastState=L.prevVal;},_bindDOMEvents:function(){var A=this;var L=A.get(ag);A.eachContainer(function(ao){var an=ao.one(F+g);if(an){an.val(L);an.detach("change");an.on("change",function(ap){try{L=ap.target.val();}catch(aq){}A.set(z,1);A.set(ag,L);A.changeRequest();});}});},_createNode:function(an,L){var A=this;var ao=q.Node.create(an);if(L){ao.html(L);}return ao;},_delegateDOM:function(){var A=this;A.eachContainer(function(an,L){an.delegate("click",q.bind(A._onClickFirstLinkEl,A),F+ad);an.delegate("click",q.bind(A._onClickLastLinkEl,A),F+x);an.delegate("click",q.bind(A._onClickNextLinkEl,A),F+O);an.delegate("click",q.bind(A._onClickPageLinkEl,A),F+s);an.delegate("click",q.bind(A._onClickPrevLinkEl,A),F+B);});},_getState:function(aq){var A=this;var ap=A.get(z);var ao=A.get(ag);var an=A.get(U);var L=A.get(w);return{before:A.lastState,page:ap,paginator:A,rowsPerPage:ao,total:an,totalPages:L};},_getTemplate:function(aF){var aP=this;var ar=0;var az=M(h,s);var aN=aP.configTpl;var aO=aP.get(G);var aK=aP.get(ac);var A=aP.get(H);var aE=aP.get(d);var aJ=aP.get(R);var aQ=aP.get(f);var aL=aN.firstLink;var av=aN.lastLink;var ay=aN.nextLink;var aC=aN.pageContainer;var aB=aN.pageLink;var aG=aN.pageReport;var ax=aN.prevLink;var ao=aN.total;var aq=aP._pageReportLabel;var an=aP._rowsPerPageEl;var aA=aP._createNode(aL,aO);var au=aP._createNode(av,aK);var aw=aP._createNode(ay,aE);var aM=aP._createNode(aC);var ap=aP._createNode(aG,aq);var aI=aP._createNode(ax,aJ);var at=aP._createNode(ao,aQ);aM.addClass(ab);while(ar++<A){var aD=aP._createNode(aB);aD.addClass(az);aM.append(aD);
}var L=function(aR){if(l(aR)){aR=aP.get(aR);}return aR.outerHTML();};if(an){var aH=L(an);if(D>=9){aH=aH.replace(/selected=""/gi,"");}}aP.templates=k.sub(aF,{CurrentPageReport:L(ap),FirstPageLink:L(aA),LastPageLink:L(au),NextPageLink:L(aw),PageLinks:aM.outerHTML(),PrevPageLink:L(aI),RowsPerPageSelect:aH,Total:L(at)});return aP.templates;},_onClickFirstLinkEl:function(L){var A=this;A.set(z,1);A.changeRequest();L.halt();},_onClickLastLinkEl:function(an){var A=this;var L=A.get(w);A.set(z,L);A.changeRequest();an.halt();},_onClickNextLinkEl:function(an){var A=this;var ao=A.get(z);var L=A.hasNextPage()?ao+1:ao;A.set(z,L);A.changeRequest();an.halt();},_onClickPageLinkEl:function(an){var A=this;var L=an.currentTarget.attr(z);A.set(z,L);A.changeRequest();an.halt();},_onClickPrevLinkEl:function(an){var A=this;var ao=A.get(z);var L=(A.hasPrevPage()?ao-1:ao);A.set(z,L);A.changeRequest();an.halt();},_renderRowsPerPageOptions:function(){var A=this;var ao=A.configTpl;var ar=ao.rowsPerPage;var L=A._createNode(ar);L.addClass(g);var an=L.all(r);an.removeAttribute(N);var aq=A.get(ag);var at=A.get(p);var ap=an.filter("[value="+aq+"]");if(ap){ap.setAttribute(N,N);}q.each(at,function(aw,av,ax){var au=L.getDOM();au.options[av]=new Option(aw,aw);});A._rowsPerPageEl=L;},_renderTemplateUI:function(){var A=this;var an=A.get(ae);var L=A.configTpl;A._getTemplate(L.defaultOutput);an.html(A.templates);A._syncPageLinksUI();A._syncPageReportUI();A._bindDOMEvents();},_setState:function(L){var A=this;q.each(L,function(ao,an){A.set(an,ao);});return L;},_setTotal:function(ap){var A=this;var L=A.get(j);var ao=A.get(ae);var an=A.get(ag);var aq=(L||(ap!==0&&ap>an));ao.toggle(aq);return ap;},_syncPageLinksUI:function(){var A=this;var ao=A.get(ae);var an=A.get(z);var L=A.calculateRange(an);ao.each(function(ar){var aq=0;var ap=L.start;var av=ar.all(F+s);if(av.size()){av.removeClass(W);while(ap<=L.end){var au=A.get(b);var at=av.item(aq);au.apply(A,[at,ap,aq]);at.setAttribute(z,ap);if(ap==an){at.addClass(W);}aq++;ap++;}}});},_syncPageReportUI:function(an){var A=this;var ao=A.get(ae);var L=A._pageReportLabel;ao.each(function(ap){var aq=ap.one(F+aa);if(aq){aq.html(L);}});}}});q.Paginator=al;},"@VERSION@",{skinnable:true,requires:["aui-base"]});