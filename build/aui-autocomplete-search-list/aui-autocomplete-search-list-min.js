AUI.add("aui-autocomplete-search-list",function(b){var c=b.Lang,a=c.isString,d="#ac-input";ADD="add",ASSET_TAGS_SELECTOR="asset-tags-selector",AUTOCOMPLETE_SEARCH_LIST="AutocompleteSearchList",BLANK="''",CHECKED="checked",CHECKED_FORMAT=' checked="checked" ',CLICK="click",COMMA_SPACE=", ",DIV_CLASS_AUI_AUTOCOMPLETE_SEARCH_LIST='<div class="aui-autocomplete-search-list" />',DOC=b.config.doc,getClassName=b.getClassName,INPUT_SELECTOR="inputSelector",INPUT_NODE="inputNode",INPUT_NODE_VALUE=this.inputNode,PHRASE_MATCH="phraseMatch",PORTAL_MODEL_RESOURCE="portalModelResource",MIN_QUERY_LENGTH="minQueryLength",NAME="AutocompleteSearchList";REMOVE="remove",RENDER="render",RESULTS="results",RESULT_FILTERS="resultFilters",SEARCH_INITIALLY="searchInitially",TEMPLATE="template",TEMPLATE_TYPE="templateType",TPL_AC_CONTAINER='<span class="aui-field-content aui-autocomplete-search-list-ac-container">',TPL_AC_INPUT='<input class="aui-field-input aui-field-input-text" id="ac-input" type="text" name="test-input" value="Filter" onfocus="if(!this._haschanged){this.value='+BLANK+'};this._haschanged=true;" class="aui-field-input aui-field-input-text"/></span>',TPL_CHECKED=' checked="checked" ',TPL_FIELD='<span class="aui-field aui-field-choice aui-field-checkbox aui-field-checked">',TPL_FIELD_CONTENT='<span class="aui-field-content">',TPL_FIELDSET='<fieldset class="{[ !values.results || !values.results.length ? "no-matches" : "" ]}" >',TPL_FOR_RESULTS='{[ !values.results || !values.results.length ? "No Tags Found." : "" ]}<tpl for="results">',TPL_LABEL_INPUT='<label title="{text}"><input class="aui-field-input aui-field-input-choice aui-field-input-checkbox" type="checkbox" value="{text}" {[values.checked ? "checked" : ""]} >{text}</label>',CSS_=getClassName(AUTOCOMPLETE_SEARCH_LIST),NODE_BLANK_TEXT=DOC.createTextNode("");var e=function(){};b.mix(e,{NAME:AUTOCOMPLETE_SEARCH_LIST,NS:AUTOCOMPLETE_SEARCH_LIST,EXTENDS:b.Plugin.Base,AUGMENTS:[b.AutoCompleteBase],ATTRS:{entries:{value:null},entriesNode:{value:null},entryHolder:{value:null},inputNode:{value:d},inputSelector:{value:null},minQueryLength:{value:0},portalModelResource:{value:false},searchInitially:{value:true},source:{value:null},tagSelector:{},template:{valueFn:function(){var f=this;var g=f.get(TEMPLATE_TYPE);switch(g){case"asset-tags-selector":default:return b.AutocompleteSearchList.TPL||new b.Template(TPL_FIELD+TPL_FIELD_CONTENT+TPL_FIELDSET+TPL_FOR_RESULTS+TPL_LABEL_INPUT+"</tpl></fieldset></span></span>");break;}}},templateType:{value:"asset-tags-selector"},initialResult:{value:null}},prototype:{initializer:function(g){var f=this;if(f.get("tagSelector")){f.tagSelector=f.get("tagSelector");f.entries=f.tagSelector.entries;f.inputSelector=f.tagSelector.entries;}f.set(RESULT_FILTERS,PHRASE_MATCH);this.afterHostEvent(RENDER,function(){var h=b.Node.create(TPL_AC_CONTAINER+TPL_AC_INPUT);f.inputNode=h;g.host.bodyNode.append(h);var i=b.Node.create(DIV_CLASS_AUI_AUTOCOMPLETE_SEARCH_LIST);g.host.bodyNode.append(i);f.entriesNode=i;f.bindUI();if(f.tagSelector){var j=b.bind(f._onCheckboxClickListener,f);i.delegate(CLICK,j,"input[type=checkbox]");}});},bindUI:function(){var f=this;f.before("results",function(h){var i=f._formatResultData(h);f._renderEntries(i);});if(f.get(SEARCH_INITIALLY)){var g=f._getInitialSearch();f._renderEntries(g);}},_getInitialSearch:function(){var f=this;var h=f.get("initialResult");var j={results:h};var g=j.results.length;while(g--){j.results[g].text=j.results[g].name;j.results[g].checked=h[g].assetCount;}return j;},_formatResultData:function(g){var f=this;var i=b.Array.map(g.results,function(k,j,l){return k.raw;});var h=f._augmentResultsWithChecked(i);return h;},_augmentResultsWithChecked:function(n){var f=this;var m={results:n};if(f.entries){var l=f.entries.length;while(l--){var h=m.results.length;while(h--){var g=f.entries.keys[l];var k=m.results[h].value;if(m.results[h].name){k=m.results[h].name;}if(k===g){m.results[h].checked=true;}}}}return m;},_renderEntries:function(g){var f=this;template=f.get(TEMPLATE);template.render(g,f.entriesNode);},_onCheckboxClickListener:function(h){var f=this;var k=h.currentTarget;var g=k.get(CHECKED);var j=k.val();var i=REMOVE;if(g){i=ADD;}f.tagSelector[i](j);},}},true);b.AutocompleteSearchList=b.Component.build(AUTOCOMPLETE_SEARCH_LIST,b.Plugin.Base,[b.AutoCompleteBase,e]);b.AutocompleteSearchList.NS=AUTOCOMPLETE_SEARCH_LIST;},"@VERSION@",{skinnable:true,requires:["aui-base","aui-panel","dd-constrain","aui-button-item","aui-overlay-manager","aui-template","aui-overlay-mask","aui-io-plugin","aui-resize","aui-field-input","aui-field-input-text","aui-dialog","autocomplete","autocomplete-highlighters","autocomplete-filters","plugin"]});